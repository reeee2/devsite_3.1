<!DOCTYPE html>
<html>
<head>
	<title>画像選択</title>
		<style>
		#myTable {
			width: 100%;
			height: 200px;
			border: 1px solid black;
			border-collapse: collapse;
			text-align: center;
		}
		#myTable td {
			border: 1px solid black;  /* 各セルに線を追加 */
			border-collapse: collapse;
		}
		#myTable td:nth-child(2n) {
			border-right: 2px solid black;  /* 2列ごとに線を追加 */
		}
	</style>
	
</head>
<body>

	<table id="myTable">
		<tr id="headerRow">
			<!-- ヘッダー行を追加 -->
			<td colspan="2">前衛</td>
			<td colspan="2">中衛</td>
			<td colspan="2">後衛</td>
		</tr>
		<tr id="selectRow">
			<!-- 選択ボックスはJavaScriptで動的に生成 -->
		</tr>
		<tr id="imageRow">
			<!-- 画像はJavaScriptで動的に生成 -->
		</tr>
	</table>
	
	<script>
		fetch('images.json')
			.then(response => response.json())
			.then(images => {
				const selectRow = document.getElementById('selectRow');
				const imageRow = document.getElementById('imageRow');
				
				for (let i = 0; i < 6; i++) {
					// 選択ボックスの生成
					const selectCell = document.createElement('td');
					const select = document.createElement('select');
					select.id = 'imageSelect' + i;
					// グループ名を取得
					const groupNames = [...new Set(images.map(image => image.group))];

					groupNames.forEach(groupName => {
						// グループの生成
						const optgroup = document.createElement('optgroup');
						optgroup.label = groupName;  // グループ名を設定
						
						// 同じグループの画像を取得
						const groupImages = images.filter(image => image.group === groupName);
						
						groupImages.forEach(image => {
						  const option = document.createElement('option');
						  option.value = image.url;
						  option.textContent = image.name;
						  optgroup.appendChild(option);  // オプションをグループに追加
						});
						
						select.appendChild(optgroup);  // グループを選択ボックスに追加
					});
					
					selectCell.appendChild(select);
					selectRow.appendChild(selectCell);
					
					// 画像の生成
					const imageCell = document.createElement('td');
					const img = document.createElement('img');
					img.id = 'selectedImage' + i;
					img.src = images[0].url;  // 初期画像の設定
					img.alt = '選択した画像';
					img.style.maxHeight = '100%';
					img.style.maxWidth = '100%';
					imageCell.appendChild(img);
					imageRow.appendChild(imageCell);
					
					// 画像選択時の処理
					select.addEventListener('change', function() {
						img.src = this.value;
					});
				}
			})
			.catch(error => console.error('Error:', error));
	</script>
</body>
</html>